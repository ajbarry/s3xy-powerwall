[[outputs.influxdb]]
  urls = ["http://influxdb:8086"]
  database = "PowerwallData"
  skip_database_creation = false  

[[inputs.http]]
  urls = [
    "https://powerwall/api/site_info",
    "https://powerwall/api/sitemaster",
    "https://powerwall/api/meters/aggregates",
    "https://powerwall/api/meters/load",
    "https://powerwall/api/meters/site",
    "https://powerwall/api/meters/solar",
    "https://powerwall/api/meters/battery",
    "https://powerwall/api/system_status",
    "https://powerwall/api/system_status/grid_status",
    "https://powerwall/api/system_status/soe"
  ]
  method = "GET"
  insecure_skip_verify = true
  timeout = "5s"
  data_format = "json"
  headers = {"Authorization" = "Bearer ${POWERWALL_TOKEN}"}

## POWERWALL_LOCATION Should be in the string format "lat=29.7231806&lon=-82.5562896"
[[inputs.http]]
  urls = [
    "https://fcc-weather-api.glitch.me/api/current?${POWERWALL_LOCATION}"
  ]
  method = "GET"
  insecure_skip_verify = true
  timeout = "5s"
  interval = "300s"
  data_format = "json"
  name_override = "weather"
